p_trips_valid + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count$proportion_valid)*50, color="blue")
View(trip_validation_count)
sum(trip_validation_count$total_trips)
trip_validation_count$valid = trip_validation_count$total_trips - trip_validation_count$trips_valid - trip_validation_count$trips_valid_time - trip_validation_count$trips_valid_distance - trip_validation_count$trips_no_valid
trip_validation_count$valid
trip_validation_count$proportion_valid
trip_validation_count$proportion_valid = trip_validation_count$trips_no_valid / trip_validation_count$total_trips
total_trips
trip_validation_count$total_trips
p_trips_valid + geom_bar(stat = 'identity')
trip_validation_count <- trip_validation_values %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count$total_trips)
trip_validation_count$proportion_valid = trip_validation_count$trips_no_valid / trip_validation_count$total_trips
p_trips_valid <- ggplot(trip_validation_count, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count$proportion_valid)*50, color="blue") +
facet_grid( week ~ . )
p_trips_valid + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count$proportion_valid)*50, color="blue")
trip_validation_count_first_week <- trip_validation_values[trip_validation_values$week < 2] %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
trip_validation_values[trip_validation_values$week < 2,]
trip_validation_count_first_week <- trip_validation_values[trip_validation_values$week < 2,] %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
p_trips_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count$proportion_valid)*50, color="blue")
View(trip_validation_count_first_week)
View(trip_validation_values)
trip_validation_values[trip_validation_values$week < 2,]
temp <- trip_validation_values[trip_validation_values$week < 2,]
View(temp)
temp <- trip_validation_values[trip_validation_values$week < 2,]
trip_validation_first_week <- trip_validation_values[trip_validation_values$week < 2,]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
p_trips_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count$proportion_valid)*50, color="blue")
trip_validation_count_first_week
View(trip_validation_count_first_week)
View(trip_validation_first_week)
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 2),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
p_trips_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count$proportion_valid)*50, color="blue")
p_trips_valid + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count$proportion_valid)*50, color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count$proportion_valid)*50, color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 3),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
p_trips_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count$proportion_valid)*50, color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
p_trips_no_valid <- ggplot(trip_record[trip_record$validation == "No Valid",], aes(x=participant, fill=validation))
mean(trip_validation_count$proportion_valid)
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count$total_trips), color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
mean(trip_validation_count$total_trips)
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count_first_week$total_trips), color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
trip_validation_count_first_week$total_trips
mean(trip_validation_count_first_week$total_trips)
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week > 2),]
mean(trip_validation_count$total_trips)
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week > 2),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
p_trips_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count_first_week$total_trips), color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
mean(trip_validation_count_first_week$total_trips)
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week > 1),]
mean(trip_validation_count_first_week$total_trips)
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week > 1),]
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week > 1),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
mean(trip_validation_count_first_week$total_trips)
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 2),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
mean(trip_validation_count_first_week$total_trips)
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 2),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
p_trips_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count_first_week$total_trips), color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
mean(trip_validation_count_first_week$total_trips)
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week > 1),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
p_trips_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count_first_week$total_trips), color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
mean(trip_validation_count_first_week$total_trips)
mean(trip_validation_count$total_trips)
mean(trip_validation_count[trip_valid_count$city == "Münster",]$total_trips)
trip_validation_count[trip_valid_count$city == "Münster",]
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 2),]
trip_validation_first_week
View(trip_validation_first_week)
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 2),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
mean(trip_validation_count_first_week$total_trips)
mean(trip_validation_count$total_trips)
p_box_valid <- ggplot(trip_valid_count, aes(x=week, y=total_trips))
p_box_valid + geom_boxplot()
trip_valid_count
p_box_valid <- ggplot(trip_validation_count, aes(x=week, y=total_trips))
p_box_valid + geom_boxplot()
trip_validation_count
trip_validation_count <- trip_validation_values %>%
group_by(participant, city, group, week) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count$total_trips)
mean(trip_validation_count$total_trips)
trip_validation_count$proportion_valid = trip_validation_count$trips_no_valid / trip_validation_count$total_trips
p_box_valid <- ggplot(trip_validation_count, aes(x=week, y=total_trips))
p_box_valid + geom_boxplot()
trip_validation_count <- trip_validation_values %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
names(trip_validation_values) <- c("participant", "city", "group", "week", "validation", "feedback_function", "feedback_reminder")
trip_validation_count <- trip_validation_values %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count$total_trips)
mean(trip_validation_count$total_trips)
trip_validation_count$proportion_valid = trip_validation_count$trips_no_valid / trip_validation_count$total_trips
p_box_valid <- ggplot(trip_validation_count, aes(x=city, y=total_trips))
p_box_valid + geom_boxplot()
p_box_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=city, y=total_trips))
p_box_valid_first_week + geom_boxplot()
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 3),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
mean(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
p_trips_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count_first_week$total_trips), color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
p_box_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=city, y=total_trips))
p_box_valid_first_week + geom_boxplot()
p_box_valid <- ggplot(trip_validation_count, aes(x=city, y=total_trips))
p_box_valid + geom_boxplot()
p_box_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=city, y=total_trips))
p_box_valid_first_week + geom_boxplot()
p_box_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=city, y=trips_valid))
p_box_valid_first_week + geom_boxplot()
p_box_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=city, y=total_trips))
p_box_valid_first_week + geom_boxplot()
p_box_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=city, y=trips_valid))
p_box_valid_first_week + geom_boxplot()
trip_validation_count <- trip_validation_values %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_valid_any_valid = sum(ifelse(validation != "No Valid", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count$total_trips)
mean(trip_validation_count$total_trips)
trip_validation_count$proportion_valid = trip_validation_count$trips_no_valid / trip_validation_count$total_trips
p_box_valid <- ggplot(trip_validation_count, aes(x=city, y=trips_valid_any_valid))
p_box_valid + geom_boxplot()
trip_validation_count <- trip_validation_values %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_valid_any = sum(ifelse(validation != "No Valid", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count$total_trips)
mean(trip_validation_count$total_trips)
trip_validation_count$proportion_valid = trip_validation_count$trips_no_valid / trip_validation_count$total_trips
p_trips_valid <- ggplot(trip_validation_count, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count$total_trips), color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
p_box_valid <- ggplot(trip_validation_count, aes(x=city, y=trips_valid_any))
p_box_valid + geom_boxplot()
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 3),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
mean(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
p_box_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=city, y=trips_valid))
p_box_valid_first_week + geom_boxplot()
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 1),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
mean(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
p_trips_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count_first_week$total_trips), color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
p_box_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=city, y=trips_valid))
p_box_valid_first_week + geom_boxplot()
p_box_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=city, y=trips_valid))
p_box_valid_first_week + geom_boxplot()
p_box_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=city, y=trips_valid))
p_box_valid_first_week + geom_boxplot()
p_trips_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count_first_week$total_trips), color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
p_box_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=city, y=trips_valid))
p_box_valid_first_week + geom_boxplot()
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 1),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
mean(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 2),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
mean(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
p_trips_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count_first_week$total_trips), color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 3),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
mean(trip_validation_count_first_week$total_trips)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
sum(trip_validation_count_first_week$total_trips)
mean(trip_validation_count_first_week$total_trips)
mean(trip_validation_count_first_week$total_trips - trip_validation_count_first_week$trips_no_valid)
size(trip_validation_count_first_week[trip_validation_count_first_week$trips_no_valid = 0, ])
trip_validation_count_first_week[trip_validation_count_first_week$trips_no_valid = 0, ]
trip_validation_count_first_week[trip_validation_count_first_week$trips_no_valid == 0, ]
size(trip_validation_count_first_week[trip_validation_count_first_week$trips_no_valid == 0, ])
View(trip_validation_count_first_week)
trip_validation_values[trip_validation_values$validation != "No Valid", ]
size(trip_validation_values[trip_validation_values$validation != "No Valid", ])
nrow(trip_validation_values[trip_validation_values$validation != "No Valid", ])
nrow(trip_validation_values[trip_validation_values$validation != "No Valid" & trip_validation_values$week < 3, ])
sum(trip_validation_count_first_week$total_trips)
mean(trip_validation_count_first_week$total_trips - trip_validation_count_first_week$trips_no_valid)
sum(trip_validation_count_first_week$total_trips - trip_validation_count_first_week$trips_no_valid)
mean(trip_validation_count$total_trips - trip_validation_count$trips_no_valid)
mean(trip_validation_count$total_trips)
View(trip_validation_first_week)
trip_validation_count <- trip_validation_values %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count$total_trips)
mean(trip_validation_count$total_trips)
trip_validation_count$proportion_valid = trip_validation_count$trips_no_valid / trip_validation_count$total_trips
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 3),]
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
mean(trip_validation_count_first_week$total_trips)
nrow(trip_validation_first_week)
sum(trip_validation_count_first_week$total_trips)
mean(trip_validation_count_first_week$total_trips)
nrow(trip_validation_values[trip_validation_values$validation != "No Valid" & trip_validation_values$week < 3, ])
sum(trip_validation_count_first_week$total_trips - trip_validation_count_first_week$trips_no_valid)
sum(trip_validation_count_first_week$total_trips )
sum(trip_validation_count_first_week$total_trips - trip_validation_count_first_week$trips_no_valid)
nrow(trip_validation_first_week[trip_validation_first_week$validation != "No Valild",])
trip_validation_first_week$validation
nrow(trip_validation_first_week[trip_validation_first_week$validation == "No Valild",])
nrow(trip_validation_first_week[trip_validation_first_week$validation == "No Valid",])
nrow(trip_validation_first_week[trip_validation_first_week$validation != "No Valid",])
sum(trip_validation_count_first_week$total_trips - trip_validation_count_first_week$trips_no_valid)
nrow(trip_validation_values[trip_validation_values$validation != "No Valid" & trip_validation_values$week < 3, ])
mean(trip_validation_count_first_week$total_trips)
nrow(trip_validation_values[trip_validation_values$validation != "No Valid" & trip_validation_values$week < 3, ])
sum(trip_validation_count_first_week$total_trips - trip_validation_count_first_week$trips_no_valid)
mean(trip_validation_count_first_week$total_trips - trip_validation_count_first_week$trips_no_valid)
mean(trip_validation_count$total_trips-trip_validation_count$trips_no_valid)
mean(trip_validation_count$total_trips)
trip_validation_first_week <- trip_validation_values[which(trip_validation_values$week < 3),]
nrow(trip_validation_first_week[trip_validation_first_week$validation != "No Valid",])
trip_validation_count_first_week <- trip_validation_first_week %>%
group_by(participant, city, group) %>%
summarise(total_trips = n(),
trips_valid = sum(ifelse(validation == "Valid", 1, 0)),
trips_valid_time = sum(ifelse(validation == "Valid Time", 1, 0)),
trips_valid_distance = sum(ifelse(validation == "Valid Distance", 1, 0)),
trips_no_valid = sum(ifelse(validation == "No Valid", 1, 0)))
sum(trip_validation_count_first_week$total_trips)
mean(trip_validation_count_first_week$total_trips)
nrow(trip_validation_values[trip_validation_values$validation != "No Valid" & trip_validation_values$week < 3, ])
mean(trip_validation_count_first_week$total_trips - trip_validation_count_first_week$trips_no_valid)
trip_validation_count_first_week$proportion_valid = trip_validation_count_first_week$trips_no_valid / trip_validation_count_first_week$total_trips
p_trips_valid_first_week <- ggplot(trip_validation_count_first_week, aes(x=reorder(participant, total_trips), y=total_trips, fill=city))
p_trips_valid_first_week + geom_bar(stat = 'identity') + geom_point(aes(y=trips_no_valid)) +
geom_hline(yintercept = mean(trip_validation_count_first_week$total_trips), color="blue") +
theme(legend.position = "bottom", axis.text.x=element_blank())
library(tm)
library(SnowballC)
library(wordcloud)
table_participants = read.csv('data/Cyclist_Experiment.csv')
table_tags <- read.csv('data/Cyclist_Tag.csv', sep = '\t')
table_tags_polarity <- read.csv('data/Tags_polarity.csv')
tags_participants = merge(table_tags,table_participants)
tags_participants$campaign_day = as.Date(tags_participants$X_created_at) - as.Date(tags_participants$questionnaire1) +1
table_tags_polarity_joined <- merge(tags_participants[!is.na(tags_participants$campaign_day),], table_tags_polarity, all = TRUE)
ggplot(table_tags_polarity_joined[!is.na(table_tags_polarity_joined$city),], aes(participant, tag_coung )) +
geom_point(aes(colour = factor(sentiment_polarity))) +
theme_bw() +
facet_grid(city ~ .) +
theme(legend.position="bottom")
ggplot(table_tags_polarity_joined[!is.na(table_tags_polarity_joined$city),], aes(participant )) +
geom_bar(aes(fill=sentiment_polarity)) +
theme_bw() +
facet_grid(city ~ .) +
theme(legend.position="bottom")
library(tm)
library(SnowballC)
library(wordcloud)
library(ggplot2)
ggplot(table_tags_polarity_joined[!is.na(table_tags_polarity_joined$city),], aes(participant, tag_coung )) +
geom_point(aes(colour = factor(sentiment_polarity))) +
theme_bw() +
facet_grid(city ~ .) +
theme(legend.position="bottom")
library(tm)
library(SnowballC)
library(wordcloud)
library(ggplot2)
table_participants = read.csv('data/Cyclist_Experiment.csv')
table_tags <- read.csv('data/Cyclist_Tag.csv', sep = '\t')
table_tags_polarity <- read.csv('data/Tags_polarity.csv')
tags_participants = merge(table_tags,table_participants)
tags_participants$campaign_day = as.Date(tags_participants$X_created_at) - as.Date(tags_participants$questionnaire1) +1
table_tags_polarity_joined <- merge(tags_participants[!is.na(tags_participants$campaign_day),], table_tags_polarity, all = TRUE)
table_tags_polarity_joined$participant[table_tags_polarity_joined$city == "Castelló" & !is.na(table_tags_polarity_joined$participant)] <-
table_tags_polarity_joined$participant[table_tags_polarity_joined$city == "Castelló"& !is.na(table_tags_polarity_joined$participant)] - 20
table_tags_polarity_joined$participant[table_tags_polarity_joined$city == "Malta" & !is.na(table_tags_polarity_joined$participant)] <-
table_tags_polarity_joined$participant[table_tags_polarity_joined$city == "Malta"& !is.na(table_tags_polarity_joined$participant)] - 40
new_tags <- table_tags_polarity_joined[is.na(table_tags_sense_joined$sentiment_polarity),]
polarised_tags <- table_tags_polarity_joined[!is.na(table_tags_sense_joined$sentiment_polarity),]
docs <- Corpus( VectorSource( as.String(table_tags_polarity_joined$text_en) ) )
inspect(docs)
new_tags
table_tags_polarity_joined[is.na(table_tags_sense_joined$sentiment_polarity),]
table_participants = read.csv('data/Cyclist_Experiment.csv')
table_tags <- read.csv('data/Cyclist_Tag.csv', sep = '\t')
table_tags_polarity <- read.csv('data/Tags_polarity.csv')
tags_participants = merge(table_tags,table_participants)
tags_participants$campaign_day = as.Date(tags_participants$X_created_at) - as.Date(tags_participants$questionnaire1) +1
table_tags_polarity_joined <- merge(tags_participants[!is.na(tags_participants$campaign_day),], table_tags_polarity, all = TRUE)
View(table_tags_polarity_joined)
ggplot(table_tags_polarity_joined, aes(x=sentimen_polarity)) + geom_bar(stat="count")
ggplot(table_tags_polarity_joined, aes(x=sentiment_polarity)) + geom_bar(stat="count")
ggplot(table_tags_polarity_joined, aes(x=sentiment_polarity)) + geom_bar(stat="count") + geom_label(stat="count")
ggplot(table_tags_polarity_joined, aes(x=sentiment_polarity)) + geom_bar(stat="count") + geom_label(stat="count", aes(aes(label=..count..),vjust=2 ))
ggplot(table_tags_polarity_joined, aes(x=sentiment_polarity)) + geom_bar(stat="count") + geom_label(stat="count", aes(aes(label=..count..),vjust=2 ))
ggplot(table_tags_polarity_joined, aes(x=sentiment_polarity)) + geom_bar(stat="count") + geom_label(stat="count", aes(label=..count..,vjust=2 ))
